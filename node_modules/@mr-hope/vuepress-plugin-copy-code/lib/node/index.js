"use strict";
const vuepress_shared_1 = require("@mr-hope/vuepress-shared");
const path_1 = require("path");
const locales_1 = require("./locales");
const copyCodePlugin = (options, context) => {
    const copyCodeOptions = Object.keys(options).length > 0
        ? options
        : context.themeConfig.copyCode || {};
    const userCopyCodeLocales = (0, vuepress_shared_1.getLocales)(context, locales_1.copyCodeLocales, copyCodeOptions.locales);
    delete copyCodeOptions.locales;
    return {
        name: "copy-code",
        define: () => ({
            CODE_COPY_OPIONS: copyCodeOptions,
            CODE_COPY_LOCALES: userCopyCodeLocales,
        }),
        clientRootMixin: (0, path_1.resolve)(__dirname, "../client/clientRootMixin.js"),
    };
};
module.exports = copyCodePlugin;
//# sourceMappingURL=index.js.map