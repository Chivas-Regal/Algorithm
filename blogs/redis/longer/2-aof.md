---
title: AOF 持久化
---

以独立日志的方式**记录每次写命令**，重启后再次执行 AOF 文件中的命令来恢复数据。  

## 写数据策略

AOF接收到写命令后第一步是将命令存放到AOF日志记录缓冲区中。  
当缓冲区中的数据满足某种条件之后，将其刷到 .aof 文件中去。  
这个满足的条件分为三种策略：
- always：每次（数据绝对安全，但性能低）
- everysec：每秒（最多丢失一秒数据，性能高）
- no：系统控制（过程不可控）